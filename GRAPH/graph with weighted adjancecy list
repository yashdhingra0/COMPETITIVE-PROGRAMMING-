#include <iostream>
#include <vector>
#include <bits/stdc++.h> 
using namespace std;

int main() {
    int v, e;
    
    cout << "Enter no of vertices: ";
    cin >> v;
    cout << "Enter no of edges: ";
    cin >> e;
    
    // Vector of vectors of PAIRS. 
    // Each element is a pair: {node, weight}
    vector<vector<pair<int, int>>> adj(v);
    
    cout << "Enter connected edges (start_node end_node weight):" << endl;
    
    for (int i = 0; i < e; i++) {
        int u, w, wt;
        cin >> u >> w >> wt; // Read weight as the 3rd input
        
        if(u >= 0 && u < v && w >= 0 && w < v) {
            // Push pair {node, weight}
            adj[u].push_back({w, wt});
            
            // For Undirected graph, add the reverse path too
            adj[w].push_back({u, wt}); 
        } else {
            cout << "Invalid nodes!" << endl;
            i--;
        }
    }

    // Displaying the Weighted Adjacency List
    cout << "\nWeighted Adjacency List Representation:" << endl;
    for (int i = 0; i < v; i++) {
        cout << i << " -> ";
        // 'it' represents the pair {neighbor, weight}
        for (auto it : adj[i]) {
            // it.first is the neighbor node
            // it.second is the weight of the edge
            cout << "(" << it.first << ", wt:" << it.second << ") ";
        }
        cout << endl;
    }

    return 0;
}
